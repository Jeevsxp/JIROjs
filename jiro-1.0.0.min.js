(function(b){var a={};a.common={sortFunc:function(c){return function(e,d){return e[c]-d[c]}},objectToArray:function(c){var e,d=[];for(e in c){e=parseInt(e,10);if(c.hasOwnProperty(e)&&!(isNaN(e))){d.push({key:e,value:c[e]})}}return d.sort(a.common.sortFunc("key"))},stringToFunction:function(c){var f,e,d;f=c.split(".");e=b.fn[f[0]];for(d=1;d<f.length;d++){e=e[f[d]]}return e},addThis:function(c,d){return function(){return d.call(c)}}};a.model={defaults:{event:"resize",prop:"width",capture:window},actionAppendSettings:function(d){var c={};c.event=d.event||a.model.defaults.event;c.prop=d.prop||a.model.defaults.prop;c.capture=d.capture||a.model.defaults.capture;c.propFunc=a.common.stringToFunction(c.prop);c.propFunc=a.common.addThis(this,c.propFunc);return c},actionAppend:function(d,c){this.each(function(){var j,i,e,g,l,f,h=[];j=b(this);i=j.data();e={capture:c.capture,event:c.event};g={prevPropValue:0,actions:[],pointer:0,propFunc:c.propFunc,waitingForInit:true,settings:e};l=0;f=["jiro",c.capture,c.event,c.prop];h[4]=function(){i[f[0]]={}};h[3]=function(){i[f[0]][f[1]]={}};h[2]=function(){i[f[0]][f[1]][f[2]]={}};h[1]=function(){i[f[0]][f[1]][f[2]][f[3]]=g};h[0]=function(){var m;if(typeof d!=="array"){m=i[f[0]][f[1]][f[2]][f[3]];d.underFunction=a.common.addThis(m,d.underFunction);d.overFunction=a.common.addThis(m,d.overFunction)}m.actions=m.actions.concat(d)};(function k(m){try{h[m]();m-=1;if(m>=0){k(m)}}catch(n){m+=1;l=m;if(m<h.length){k(m)}}})(0);g={objData:i[f[0]][f[1]][f[2]][f[3]]};if(l>0){b(c.capture).one("init.jiro",g,a.view.init)}else{if(!(g.objData.waitingForInit)){g.objData.waitingForInit=true;b(c.capture).one("init.jiro",g,a.view.set)}}})}};a.view={set:function(e){var d,c,g,f=e.data.objData;f.actions.sort(a.common.sortFunc("breakPoint"));g=f.propFunc();for(d=0;(d<f.actions.length)&&(g>=f.actions[d].breakPoint);d++){f.actions[d].overFunction()}for(c=f.actions.length;(c>0)&&(c>d);c--){f.actions[c-1].underFunction()}f.pointer=d;f.prevPropValue=g;f.waitingForInit=false},iterate:function(d){var c,f,e=d.data.objData;f=e.propFunc();if(f>e.prevPropValue){for(c=e.pointer;(c<e.actions.length)&&(f>=e.actions[c].breakPoint);c++){e.actions[c].overFunction()}}else{for(c=e.pointer;(c>0)&&(f<=e.actions[c-1].breakPoint);c--){e.actions[c-1].underFunction()}}e.pointer=c;e.prevPropValue=f},init:function(c){var d=c.data.objData.settings;a.view.set(c);b(d.capture).on(d.event+".jiro",c.data,a.view.iterate)}};a.user={addSwitch:function(c,e){var g,d,f,h=this;f={};if(typeof c==="number"){g=c;d=a.model.actionAppendSettings.call(h,{})}else{g=c.bp;d=a.actionAppendSettings.call(h,c)}f.breakPoint=g;if(e.hasOwnProperty("toggle")){f.overFunction=e.toggle;f.underFunction=e.toggle}else{f.overFunction=e.over;f.underFunction=e.under}a.model.actionAppend.call(this,f,d)},addCont:function(f,e){var d,h,g=this;h=0;e=a.model.actionAppendSettings.call(g,e);f=a.common.addThis(g,f);function c(i){return function(){b(e.capture)[i](e.event+".jiro",f);if(!this.waitingForInit){f()}}}if(e.hasOwnProperty("under")){d=e.under;a.model.actionAppend.call(g,{breakPoint:d,overFunction:c("off"),underFunction:c("on")},e)}if(e.hasOwnProperty("over")){h=e.over;a.model.actionAppend.call(g,{breakPoint:h,overFunction:c("on"),underFunction:c("off")},e)}else{if(d===undefined){c("on")()}}b(document).ready(function(){var i=e.propFunc();if((i>=h)&&((i<=d)||(d===undefined))){f()}})},addStep:function(k,l){var e,h,f,g,i,j=this;e=a.model.actionAppendSettings.call(j,l);h={};g=[];if((!(k.hasOwnProperty("getter")))&&(k.hasOwnProperty("css"))){k.getter=function(){return b(k.elem).css(k.css)}}else{k.getter=function(){return b(k.elem)[k.prop]()}}if((!(k.hasOwnProperty("setter")))&&(k.hasOwnProperty("css"))){k.setter=function(m){return b(k.elem).css(k.css,m)}}else{k.setter=function(m){return b(k.elem)[k.prop](m)}}i=k.getter();function c(o,m,n){g.push({breakPoint:o,overFunction:function(){return k.setter((m==="current")?i:m)},underFunction:function(){return k.setter((n==="current")?i:n)}})}function d(m,q,n){var o,p;for(o=0;(o+n)<m.length;o++){p=m[o+n].value;c(m[o].key,p,q);q=p}}if(l.hasOwnProperty("over")){h.over=a.common.objectToArray(l.over);f=(l.over.hasOwnProperty("limit"))?l.over.limit:"current";d(h.over,f,0)}if(l.hasOwnProperty("under")){h.under=a.common.objectToArray(l.under);d(h.under,h.under[0].value,1);f=(l.under.hasOwnProperty("limit"))?l.under.limit:"current";c(h.under[h.under.length-1].key,f,h.under[h.under.length-1].value)}a.model.actionAppend.call(j,g,e)}};b.fn.jiro=function(d){var c=this;if(a.user[d]){a.user[d].apply(c,Array.prototype.slice.call(arguments,1));c.trigger("init.jiro")}else{console.log('Method "'+d+'" does not exist in jQuery.jiro')}return c};b.fn.jiro.custom={}})(jQuery);